# 高质量问题整理

## 如何理解函数式编程


**函数式编程关系数据的映射，命令式编程关心解决问题的步骤** 映射指的是 一种东西和另一种东西之间的对应关系。 这也是为什么「函数式编程」叫做「函数」式编程。 比如二叉树镜像反转。

函数式编程中的函数是指的是数学中的函数，即自变量的映射。也就是说一个函数的值仅决定于函数参数的值，不依赖其他状态。

```python
def invertTree(root):
  if root is None:
    return Node
  root.left, root.right = invertTree(root.right), invertTree(root.left)
  return root
```
上面的代码的含义是：首先判断节点是否为空；然后翻转左树；然后翻转右树；最后左右互换。

这就是命令式编程 —— 你要做什么事情，然后把达到的目标的步骤详细的描述出来 交给机器处理。

那么函数式思维提供了另一种思维的途径。所谓反转二叉树 就是要得到一颗和原来二叉树对称的新二叉树。这颗新二叉树的特点是每一个节点都递归地和原树相反。

### 好处
函数式的代码是“对映射的描述”，它不仅可以描述二叉树这样的数据结构之间的对应关系，任何能在计算机中体现的东西之间的对应关系都可以描述——比如函数和函数之间的映射（比如 functor）；比如外部操作到 GUI 之间的映射（就是现在前端热炒的所谓 FRP）。它的抽象程度可以很高，这就意味着函数式的代码可以更方便的复用。

### 特性

函数视为一等公民：可以像使用普通类型的值的方式使用函数。

* 使用变量活常量引用函数
* 将函数作为参数传递给其他函数
* 将函数作为其他函数的返回值

### 纯函数

纯函数是没有副作用的函数，不会给任何外部变量赋值，不会获取输入。不会产生"输出"，不会对数据库进行读写，不会修改输入参数等。

纯函数的基本思想是：相同的输入 永远得到相同的输出。


### Immutability
不可变数据。当一旦定义了某个值或对象，以后就再也不会改变它了。意味着不能更改已有数组中的元素或对象中的属性。需要返回一份带有更改值的新拷贝。纯函数不允许有副作用，所以不允许更改函数体外部的数据结构。纯函数强制以immutable的方式处理数据。




